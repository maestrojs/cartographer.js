/*
  Cartographer.js
  Author: Alex Robson <@A_Robson>
  License: MIT ( http://www.opensource.org/licenses/mit-license )
  Version: 0.2.0
*/
var PostalSetup,setup;PostalSetup=function(){function a(){var a;a=this,postal.subscribe("cartographer","api",function(b,c){var d;return d=b.operation,a[d](b)})}return a.prototype.apply=function(a){var b,c,d;return c=a.name,d=a.template,b=a.model,cartographer.apply(c,d,b,function(a,b,c){return postal.publish("cartographer","render."+d,{template:d,markup:b,operation:"render"})},function(a){return postal.publish("cartographer","render."+a,{template:d,error:a,operation:"render"})})},a.prototype.map=function(a){return cartographer.map(a.name)},a.prototype.resolver=function(a){return a.order==="prepend"?cartographer.resolver.prependSource(a.resolver):cartographer.resolver.appendSource(a.resolver)},a.prototype.add=function(a){var b,c,d;return d=a.template,b=a.id,c=a.model,cartographer.add(d,b,c,function(a,c,e){return postal.publish("cartographer","render.{templateId}",{template:d,parent:b,markup:c,operation:"add"})})},a.prototype.update=function(a){var b,c,d;return d=a.template,b=a.id,c=a.model,cartographer.update(d,b,c,function(a,c,e){return postal.publish("cartographer","render.{templateId}",{template:d,id:b,markup:c,operation:"update"})})},a}(),setup=new PostalSetup